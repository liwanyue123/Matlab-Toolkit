addpath(genpath("TwistCalculation/twistAndScrew"));%旋量相关
addpath(genpath("TwistCalculation/drawPic"));%旋量相关
addpath(genpath("Coordinate"));%计算显示坐标系相关
addpath(genpath("Matrix"));%矩阵相关
addpath(genpath("Utils"));%矩阵相关
addpath(genpath("simple"));%符号处理相关

addpath(genpath("SphereTools"));%

% 定义6个齐次变换矩阵 T_1 ... T_6（根据你给的数据或示例补全）

T_1 = [ 1.000000  0.000000  0.000000  0.000000;
        0.000000  1.000000  0.000000  0.064452;
       -0.000000  0.000000  1.000000 -0.102700;
        0.000000  0.000000  0.000000  1.000000];

T_2 = [ 0.984744 -0.000000 -0.174010  0.000000;
        0.000000  1.000000 -0.000000  0.052000;
        0.174010  0.000000  0.984744 -0.030465;
        0.000000  0.000000  0.000000  1.000000];

T_3 = [ 1.000000  0.000000  0.000000  0.025001;
        0.000000  1.000000  0.000000  0.000000;
       -0.000000  0.000000  1.000000 -0.124120;
        0.000000  0.000000  0.000000  1.000000];

T_4 = [ 0.984744  0.000000  0.174010 -0.078273;
        0.000000  1.000000  0.000000  0.002149;
       -0.174010  0.000000  0.984744 -0.177340;
        0.000000  0.000000  0.000000  1.000000];

T_5 = [ 1.000000  0.000000  0.000000  0.000000;
        0.000000  1.000000  0.000000 -0.000094;
       -0.000000  0.000000  1.000000 -0.300010;
        0.000000  0.000000  0.000000  1.000000];

T_6 = [ 1.000000  0.000000  0.000000  0.000000;
        0.000000  1.000000  0.000000  0.000000;
       -0.000000  0.000000  1.000000 -0.017558;
        0.000000  0.000000  0.000000  1.000000];

% 这里假设你已经有绘制和生成坐标系的函数
% 如果没有，下面我提供一个简单的示例版本。

% 绘制世界坐标系
C_world = showWorldCoordinate(0.1);

% 依次计算累积变换矩阵
T_cum = eye(4); % 单位矩阵，初始化
lineList=[]
for i = 1:6
    Ti = eval(sprintf('T_%d', i)); % 动态获取矩阵 T_i
    T_cum = T_cum * Ti;            % 累积变换

    % 生成并显示坐标系
    Ci = genCoordinateCoord(C_world, T_cum);
    lineList = [lineList, Ci.p0];
    showCoordinate(Ci, sprintf('C_{body%d}', i), 0.1);
end
% 构造坐標系首尾相連线段
showLine(lineList, '-', 'b');

view(3) 
axis equal
