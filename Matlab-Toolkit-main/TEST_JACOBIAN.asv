
addpath(genpath("Coordinate"));%计算显示坐标系相关
addpath(genpath("Utils"));%矩阵相关

p = struct();
p.l1 = 0.045;
p.l2 = 0;
p.l3 = 0.3;
p.l4 = 0.36;
p.l5 = 0.01;
p.l6 = 0;
p.bodyLength=0;
p.bodyWidth=0.12;
p.rate=0.1;
p.max_visual_tau=5;

rate
leg=0; % right leg
q=[0.2;0.2;-1;1;0];
qd=[0;0;0;0;0];
tau=[2;0;0;0;0];



T_foot=showRobotFram(q,tau,p);
[p, J, Jd, Rf] = ComputeFootPositionAndJacobian(leg, q, qd,p);

Jw=J(1:3,:);
Jl=J(4:6,:);
F=J*tau
% showScrew(getPosFromTranMatrix(T_foot), F, "all", 0.1, 'b', 5, "F_{foot}");
showScrew(getPosFromTranMatrix(T_foot),F,"all",p.rate,'b',p.max_visual_tau,"F1")

% 设置相机的角度
azimuth = 45; % 方位角
elevation = 30; % 仰角
view(azimuth, elevation); % 设置相机角度

axis equal

% 设置图形窗口的大小为 800x600 像素
set(gcf, 'Units', 'pixels', 'Position', [100, 100, 800, 1000]);